<div class="election-app cf">
  <GroupNav router="{{ router }}"/>

  <div class="election-app-main">
    {{#if page === 'contest'}}
      <Contest id="{{ contestID }}" />
    {{elseif page === 'set'}}
      <Set setID="{{ setID }}" />
    {{elseif page === 'search'}}
      <Search searchData="{{ searchData }}" full="true" />
    {{else}}
      <Dashboard data="{{ election }}" searchData="{{ searchData }}" />
    {{/if}}
  </div>

  <GroupNav router="{{ router }}" bottom="true" />
</div>


<script>
import Dashboard from './dashboard.svelte.html';
import Search from './search.svelte.html';
import Contest from './contest.svelte.html';
import GroupNav from './group-nav.svelte.html';
import Set from './set.svelte.html';

export default {
  components: {
    Contest,
    Dashboard,
    GroupNav,
    Set,
    Search
  },

  oncreate: function() {
    // Proxy if used within another component
    this.observe('data', d => {
      if (_.isPlainObject(d)) {
        this.set(d);
      }
    });
  }
};
</script>
